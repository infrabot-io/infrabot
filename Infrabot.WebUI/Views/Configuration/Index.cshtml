@model Infrabot.Common.Models.Configuration
@{
    ViewData["Title"] = "Configuration";
}

<div class="row mb-2 mt-3">
    <div class="col">
        <p class="fs-2 pt-0 mb-0">Configuration</p>
        <p class="blog-post-meta mt-1 text-muted">Edit configuration parameters</p>
    </div>
</div>

@if (ViewBag.ConfigurationSaved != null)
{
    <div class="alert alert-success" role="alert">
        Configuration saved.
    </div>
}

<div class="row g-3">
    <div class="col-md-7 col-lg-8">
        <form class="needs-validation" novalidate="" asp-action="Index" method="post">
            @Html.AntiForgeryToken()

            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Active Directory</h5>

                    <h6 class="card-subtitle mb-4 text-muted">Integrate system login using on-premise active directory domain services server.</h6>

                    <div class="row g-3">
                        <div class="col-8">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="adLoginEnabled" asp-for="IsADEnabled">
                                <label class="form-check-label" for="adLoginEnabled">Active Directory login enabled</label>
                            </div>
                        </div>

                        <div class="col-8">
                            <label for="adserveraddress" class="form-label">Active Directory Server</label>
                            <input type="text" class="form-control" id="adserveraddress" placeholder="example.lan or 192.168.10.100" required="" asp-for="ADServer">
                            <div class="invalid-feedback">
                                Please provide active directory server address.
                            </div>
                        </div>

                        <div class="col-8">
                            <label for="addomainname" class="form-label">Active Directory Domain Name</label>
                            <input type="text" class="form-control" id="addomainname" placeholder="example.lan" required="" asp-for="ADDomainName">
                            <div class="invalid-feedback">
                                Please provide active directory server domain name.
                            </div>
                        </div>

                        <div class="col-8">
                            <label for="login" class="form-label">User login</label>
                            <input type="text" class="form-control" id="login" placeholder="svc-license" required="" asp-for="ADLogin">
                            <div class="invalid-feedback">
                                Please provide active directory login.
                            </div>
                        </div>

                        <div class="col-8">
                            <label for="password" class="form-label">Password</label>
                            <input type="password" class="form-control" id="password" placeholder="password" required="" asp-for="ADPassword">
                            <div class="invalid-feedback">
                                Please provide active directory password.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card mt-4">
                <div class="card-body">
                    <h5 class="card-title">Telegram</h5>

                    <h6 class="card-subtitle mb-4 text-muted">Configure integration with telegram service.</h6>

                    <div class="row g-3">
                        <div class="col-8">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="telegramenableemergency" asp-for="TelegramEnableEmergency">
                                <label class="form-check-label" for="telegramenableemergency">Enable immediate application termination upon receiving the <code>/emergency</code> command.</label>
                            </div>
                        </div>

                        <div class="col-8">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="telegramenableehowmyid" asp-for="TelegramEnableShowMyId">
                                <label class="form-check-label" for="telegramenableehowmyid">Provide the ability to get current user ID from chat without giving him permission (<code>/showmyid</code> command)</label>
                            </div>
                        </div>

                        <div class="col-8">
                            <label for="telegrambottoken" class="form-label">Telegram bot Token</label>
                            <input type="text" class="form-control" id="telegrambottoken" placeholder="1958279798:ABE..." required="" asp-for="TelegramBotToken">
                            <div class="invalid-feedback">
                                Please provide bot token.
                            </div>
                        </div>

                        <div class="col-8">
                            <label for="telegrampowershellpath" class="form-label">PowerShell Path</label>
                            <input type="text" class="form-control" id="telegrampowershellpath" placeholder="C:\pwsh.exe" required="" asp-for="TelegramPowerShellPath">
                            <div class="invalid-feedback">
                                Please provide powershell path.
                            </div>
                        </div>

                        <div class="col-8">
                            <label for="telegrampowershellarguments" class="form-label">PowerShell Arguments</label>
                            <input type="text" class="form-control" id="telegrampowershellarguments" placeholder="-ExecutionPolicy Unrestricted" required="" asp-for="TelegramPowerShellArguments">
                            <div class="invalid-feedback">
                                Please provide powershell arguments.
                            </div>
                        </div>

                        <div class="col-8">
                            <label for="telegramshellpath" class="form-label">Shell Path</label>
                            <input type="text" class="form-control" id="telegramshellpath" placeholder="/bin/bash" required="" asp-for="TelegramLinuxShellPath">
                            <div class="invalid-feedback">
                                Please provide shell path.
                            </div>
                        </div>

                        <div class="col-8">
                            <label for="telegramshellarguments" class="form-label">Shell Arguments</label>
                            <input type="text" class="form-control" id="telegramshellarguments" placeholder="" required="" asp-for="TelegramLinuxShellArguments">
                            <div class="invalid-feedback">
                                Please provide shell arguments.
                            </div>
                        </div>

                        <div class="col-8">
                            <label for="telegrampythonpath" class="form-label">Python Path</label>
                            <input type="text" class="form-control" id="telegrampythonpath" placeholder="/usr/bin/python" required="" asp-for="TelegramPythonPath">
                            <div class="invalid-feedback">
                                Please provide python path.
                            </div>
                        </div>

                        <div class="col-8">
                            <label for="telegrampythonarguments" class="form-label">Python Arguments</label>
                            <input type="text" class="form-control" id="telegrampythonarguments" placeholder="" required="" asp-for="TelegramPythonArguments">
                            <div class="invalid-feedback">
                                Please provide python arguments.
                            </div>
                        </div>

                        <div class="col-8">
                            <label for="telegramresultmaxlength" class="form-label">Maximum length of Telegram results</label>
                            <input type="number" class="form-control" id="telegramresultmaxlength" placeholder="12000" required="" asp-for="TelegramResultMaxLength">
                            <div class="invalid-feedback">
                                Please provide telegram result max length.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card mt-4">
                <div class="card-body">
                    <h5 class="card-title">Password policy</h5>

                    <h6 class="card-subtitle mb-4 text-muted">Set password policy for users.</h6>

                    <div class="row g-3">
                        <div class="col-8">
                            <label for="passwordpolicyminlength" class="form-label">Password minimal length</label>
                            <input type="number" class="form-control" id="passwordpolicyminlength" placeholder="6" required="" asp-for="PasswordPolicyMinLength">
                            <div class="invalid-feedback">
                                Please provide password minimal length.
                            </div>
                        </div>

                        <div class="col-8">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="passwordpolicycontainspecialcharacter" asp-for="PasswordPolicyContainSpecialCharacter">
                                <label class="form-check-label" for="passwordpolicycontainspecialcharacter">Contain special character</label>
                            </div>
                        </div>

                        <div class="col-8">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="passwordpolicypontainpumber" asp-for="PasswordPolicyContainNumber">
                                <label class="form-check-label" for="passwordpolicypontainpumber">Contain number</label>
                            </div>
                        </div>

                        <div class="col-8">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="passwordpolicycontainlowercase" asp-for="PasswordPolicyContainLowerCase">
                                <label class="form-check-label" for="passwordpolicycontainlowercase">Contain lowercase</label>
                            </div>
                        </div>

                        <div class="col-8">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="passwordpolicycontainuppercase" asp-for="PasswordPolicyContainUpperCase">
                                <label class="form-check-label" for="PasswordPolicyContainUpperCase">Contain uppercase</label>
                            </div>
                        </div>

                        <input type="number" class="d-none" asp-for="Id">
                    </div>
                </div>
            </div>

            <br>

            <button class="btn btn-orange" type="submit">Save</button>
        </form>
    </div>
</div>

<br>
<br>


